import asyncio
from aiogram import Bot, Dispatcher, types
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.utils import executor
from aiogram.dispatcher.filters import Text
from datetime import datetime, timedelta

API_TOKEN = '7925037089:AAERkJTfPuTwoExW3bysZQyf9f7WfjTsdXE'
USER_ID = 7925037089

bot = Bot(token=API_TOKEN)
dp = Dispatcher(bot)

# –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞
start_kb = ReplyKeyboardMarkup(resize_keyboard=True)
start_kb.add(KeyboardButton("–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å"))

# –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã –∫–∞–∂–¥—ã–π —á–∞—Å
compliments = [
    "–¢—ã ‚Äî –º–æ—è –æ–ø–æ—Ä–∞ üí™",
    "–¢—ã ‚Äî –º–æ–π —Å–∞–º—ã–π –ª—É—á—à–∏–π —á–µ–ª–æ–≤–µ–∫ –Ω–∞ —Å–≤–µ—Ç–µ üåç",
    "–° —Ç–æ–±–æ–π –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ –Ω–∏ –æ–¥–Ω–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ üõ°",
    "–¢—ã —É–º–µ–µ—à—å —Å–¥–µ–ª–∞—Ç—å –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π –ø—Ä–æ—Å—Ç–æ —Å–≤–æ–∏–º –≤–∑–≥–ª—è–¥–æ–º üòä",
    "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å, –∫–æ–≥–¥–∞ —è —Å–∞–º–∞ –ø–∞–¥–∞—é –¥—É—Ö–æ–º üïä",
    "–¢—ã —Å–∞–º—ã–π —É–º–Ω—ã–π –∏ —Å–∏–ª—å–Ω—ã–π –º—É–∂—á–∏–Ω–∞ –≤ –º–∏—Ä–µ üíº",
    "–¢—ã ‚Äî —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ —Å—Ä–µ–¥–∏ –º–æ–µ–≥–æ —É—Ä–∞–≥–∞–Ω–∞ üåÄ",
    "–¢—ã —Å–º–µ—à–Ω–æ–π, –¥–æ–±—Ä—ã–π –∏ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–π üòç",
    "–¢—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å –≤–∫—É—Å–Ω—ã–π –∫–æ—Ñ–µ –∏ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ‚òï",
    "–¢—ã ‚Äî –º–æ–π –¥–æ–º üè†",
    "–¢—ã —É–º–µ–µ—à—å –ª—é–±–∏—Ç—å ‚Äî –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É üíñ",
    "–¢—ã –ª—É—á—à–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π ‚ú®",
]

# –û—Å–Ω–æ–≤–Ω–æ–π –∫–≤–µ—Å—Ç
tasks = [
    "üéâ –° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! –°–µ–≥–æ–¥–Ω—è —Ç–µ–±—è –∂–¥—ë—Ç –∏–≥—Ä–∞! –í –∫–æ–Ω—Ü–µ ‚Äî –ø–æ–¥–∞—Ä–æ–∫ üéÅ. –ù–∞—á–Ω—ë–º!",
    "üç≥ –ó–∞–¥–∞–Ω–∏–µ 1: –í–∫—É—Å–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫. –°—Ñ–æ—Ç–∫–∞–π –µ–≥–æ –∏ –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ üì∏",
    "üéÇ –ó–∞–¥–∞–Ω–∏–µ 2: –ó–∞–¥—É–π —Å–≤–µ—á—É –∏ –∑–∞–≥–∞–¥–∞–π –∂–µ–ª–∞–Ω–∏–µ ‚ú®",
    "üèñ –ó–∞–¥–∞–Ω–∏–µ 3: –§–æ—Ç–æ –∏–∑ –º–æ—Ä—è –∏–ª–∏ –±–∞—Å—Å–µ–π–Ω–∞. –õ–∏—Ü–æ ‚Äî –±–µ–∑—É–º–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤–æ–µ üòÑ",
    "üçπ –ó–∞–¥–∞–Ω–∏–µ 4: –í—Ä–µ–º—è –Ω–∞–ø–∏—Ç–∫–æ–≤. –ü–∏–≤–æ, –Ω–µ–≥—Ä–æ–Ω–∏, —á–∞–π –∏–ª–∏ –≤–æ–¥–∞ ‚Äî —Å —Ç–µ–±—è —Å–µ–ª—Ñ–∏!",
    "üçΩ –ó–∞–¥–∞–Ω–∏–µ 5: –í—ã–±–µ—Ä–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω: 1) –í–æ—Å—Ç–æ—á–Ω—ã–π –∫–≤–∞—Ä—Ç–∞–ª, 2) –°–∞–Ω–†–µ–º–æ, 3) –ü–ª–∞–∫—É—á–∞—è –ò–≤–∞, 4) –ß–∏—Ç–∞-–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞, 5) –†–µ–∑–∑–æ, 6) –°–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç",
    "üìù –ó–∞–¥–∞–Ω–∏–µ 6: –ü—Ä–æ–π–¥–∏ –º–∏–Ω–∏-–æ–ø—Ä–æ—Å! üéØ (–∫–æ–º–∞–Ω–¥–∞ /quiz)",
    "üéÅ –ó–∞–¥–∞–Ω–∏–µ 7: –û–±–Ω–∏–º–∏ –∂–µ–Ω—É –∏ –ø–æ–ª—É—á–∏ –ø–æ–¥–∞—Ä–æ–∫ ‚ù§Ô∏è",
]

@dp.message_handler(commands=['start'])
async def start(message: types.Message):
    if message.from_user.id == USER_ID:
        await message.answer("–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?", reply_markup=start_kb)

@dp.message_handler(Text(equals="–ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å"))
async def start_game(message: types.Message):
    if message.from_user.id == USER_ID:
        for task in tasks:
            await message.answer(task)
            await asyncio.sleep(300)  # 5 –º–∏–Ω—É—Ç –º–µ–∂–¥—É –∑–∞–¥–∞–Ω–∏—è–º–∏

@dp.message_handler(commands=['quiz'])
async def quiz(message: types.Message):
    if message.from_user.id == USER_ID:
        await message.answer("üéØ –û–ø—Ä–æ—Å: ¬´–ü—Ä–æ–≤–µ—Ä–∏–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—à—å –Ω–∞—Å¬ª")
        # –í–æ–ø—Ä–æ—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º
        await message.answer("1Ô∏è‚É£ –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ, –∞ —è –≤—Å–µ–≥–¥–∞ –Ω–µ –ø—Ä–æ—Ç–∏–≤?

"
                             "A) –ü—É—Ç–µ—à–µ—Å—Ç–≤—É–µ–º ‚úÖ
B) –ï–¥–∏–º
C) –°–ø–∏–º
D) –°–∞–º –∑–Ω–∞–µ—à—å —á—Ç–æ‚Ä¶")

        await asyncio.sleep(10)
        await message.answer("2Ô∏è‚É£ –ö–∞–∫–æ–π –º–æ–π –ª—é–±–∏–º—ã–π —Å–µ—Ä–∏–∞–ª –¥–ª—è —É–±–æ—Ä–∫–∏?

"
                             "A) –°–µ–∫—Å –≤ –±–æ–ª—å—à–æ–º –≥–æ—Ä–æ–¥–µ
B) –û–ª–µ–Ω—ë–Ω–æ–∫
C) –û—Ç—á–∞—è–Ω–Ω—ã–µ –¥–æ–º–æ—Ö–æ–∑—è–π–∫–∏ ‚úÖ
D) –ò–≥—Ä–∞ –ø—Ä–µ—Å—Ç–æ–ª–æ–≤")

        await asyncio.sleep(10)
        await message.answer("3Ô∏è‚É£ –ß—Ç–æ —Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ –≥–æ–≤–æ—Ä–∏—à—å —É—Ç—Ä–æ–º?

"
                             "A) –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ª—é–±–∏–º–∞—è
B) –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º—è?
C) –ù–µ —Ç—Ä–æ–≥–∞–π –º–µ–Ω—è ‚úÖ
D) –Ø —É–∂–µ —Å–¥–µ–ª–∞–ª –∫–æ—Ñ–µ")

        await asyncio.sleep(10)
        await message.answer("4Ô∏è‚É£ –ì–¥–µ —á–∞—â–µ –≤—Å–µ–≥–æ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–≤–æ–∏ –Ω–æ—Å–∫–∏?

"
                             "A) –í –±–µ–ª—å–µ–≤–æ–º —è—â–∏–∫–µ
B) –ù–∞ —Å—É—à–∏–ª–∫–µ
C) –í –∑–∞–ª–µ –≤ —É–≥–ª—É ‚úÖ
D) –¢—ã —á—Ç–æ, —è –∏—Ö –≤—Å–µ–≥–¥–∞ —É–±–∏—Ä–∞—é")

        await asyncio.sleep(10)
        await message.answer("5Ô∏è‚É£ –ö—Ç–æ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ?

"
                             "A) –¢—ã
B) –Ø
C) –û–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
D) –í—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª—É—á–∞—è ‚úÖ")

        await asyncio.sleep(10)
        await message.answer("6Ô∏è‚É£ –ß—Ç–æ –ª—é–±–∏—Ç —Ç–≤–æ—è –∂–µ–Ω–∞, –∞ —Ç—ã –Ω–µ –æ—á–µ–Ω—å?

"
                             "A) –ü–ª—è–∂–Ω—ã–π –æ—Ç–¥—ã—Ö
B) –¢—É—Ä–µ—Ü–∫–∏–µ —Å–µ—Ä–∏–∞–ª—ã ‚úÖ
C) –ó–∞–≤—Ç—Ä–∞–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ
D) –ü–µ—à–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏")

        await asyncio.sleep(10)
        await message.answer("7Ô∏è‚É£ –ó–∞ —á—Ç–æ —Ç–≤–æ—è –∂–µ–Ω–∞ —Ç–µ–±—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏—Ç?

"
                             "A) –ó–∞ –∑–∞–±–æ—Ç—É
B) –ó–∞ —á—É–≤—Å—Ç–≤–æ —é–º–æ—Ä–∞
C) –ó–∞ –¥–æ–±—Ä–æ—Ç—É
D) –ó–∞ –≤—Å—ë —ç—Ç–æ –≤–º–µ—Å—Ç–µ ‚úÖ")

        await asyncio.sleep(10)
        await message.answer("8Ô∏è‚É£ –¢–≤–æ—è —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ:

"
                             "A) –í–∏–¥–µ—Ç—å —Ö–∞–æ—Å –∏ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å–ø–æ–∫–æ–π–Ω—ã–º
B) –ë—ã—Ç—å –º—É–∂—á–∏–Ω–æ–π –º–µ—á—Ç—ã
"
                             "C) –ù–∞—Ö–æ–¥–∏—Ç—å –≤–∫—É—Å–Ω—É—é –µ–¥—É
D) –ó–∞–Ω–∏–º–∞—Ç—å –≤—Å—é –∫—Ä–æ–≤–∞—Ç—å
E) ‚úÖ –í—Å—ë –≤–º–µ—Å—Ç–µ")

        await asyncio.sleep(10)
        await message.answer("9Ô∏è‚É£ –ß–µ–º —Ç—ã –≥–æ—Ä–¥–∏—à—å—Å—è –≤ —Å–µ–±–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?

"
                             "A) –£–º–æ–º
B) –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ–º
C) –°–∏–ª–æ–π
–û—Ç–≤–µ—Ç: –ê –Ω–∞–¥–æ –≤—Å–µ–º –≤–º–µ—Å—Ç–µ üí™üß†üßò‚Äç‚ôÇÔ∏è")

        await asyncio.sleep(10)
        await message.answer("üîü –ö—É–¥–∞ –º—ã —Ç–æ—á–Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–µ–¥–µ–º –≤ –æ—Ç–ø—É—Å–∫?
(–û—Ç–≤–µ—Ç—å —Å–∞–º)
‚û°Ô∏è –≠—Ç–æ —è —Ç–∞–∫, —Å–ø—Ä–∞–≤–æ—á–Ω–æ üòâ")

        await asyncio.sleep(5)
        await message.answer("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —Ç—ã –ø—Ä–æ—à—ë–ª –æ–ø—Ä–æ—Å!
–¢—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏‚Ä¶ –°–∫–æ—Ä–æ —Ç–µ–±—è –∂–¥—ë—Ç –∫–æ–µ-—á—Ç–æ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ–µ üéÅ‚ù§Ô∏è")

async def send_compliments():
    while True:
        now = datetime.now()
        if now.hour in range(9, 21) and now.minute == 30:
            compliment = compliments[(now.hour - 9) % len(compliments)]
            await bot.send_message(USER_ID, f"üí¨ {compliment}")
        await asyncio.sleep(60)

if __name__ == '__main__':
    loop = asyncio.get_event_loop()
    loop.create_task(send_compliments())
    executor.start_polling(dp, skip_updates=True)